# 6.6 不可解性

一台“图灵机”就是一台能够读取输入、变换状态和打印输出的有限状态机。它来自于两个重要的思想：

* 普遍性：图灵机可以模拟所有物理可实现的计算设备。这被称为**丘奇-图灵论题**。
* 可计算性：图灵机无法解决的问题是存在的。

还有第三个关于计算设备效率的思想：

* **扩展的丘奇-图灵论题**：在任意计算设备上解决某个问题的某个程序所需的运行时间的增长数量级都是在图灵机上（或是任意其他计算设备上）解决该问题的某个程序的多项式倍数。

最近几年，量子计算的概念使得一些研究者开始怀疑扩展的丘奇-图灵论题的正确性。

### 指数级别的运行时间

不可解性理论的目的在于将能够区别**多项式时间内**解决的问题和**在最坏情况下（可能）需要指数级别（2^N）时间**才能解决的问题。

一般认为，指数时间的算法无法保证在合理的时间内解决规模超过（例如）100 的问题。

### 搜索问题

* **搜索问题**：有解且**验证它的解的正确性**所需的时间不会超过输入规模的多项式的问题（只与解的验证有关）；
* **解决**了一个搜索问题：一个算法给出了一个解或已证明解不存在；
* **NP**：所有搜索问题的集合。
* **P**：能够在多项式时间内**解决**的所有搜索问题的集合。或者说，能够保证在合理时间范围内解决的所有问题的集合。一般来说，用**不可解**来表示不包含在集合 P 中的问题。

虽然在技术上并不等价，但**搜索问题**、**决定性问题**（解是否存在）、**最优化问题**（最优解是什么）一般都能够相互归约。

### 非确定性

NP 中的 N 表示的是**非确定性（nondeterminism）**。其意思是断言当一个算法面对若干个选项时，它有能力“猜出”正确的选项。在图灵机中，非确定性只是定义为一个给定状态和一个给定输入时的两个不同的后继状态，解则是能够得到期望结果的所有路径。

非确定性看似强大，但没人能**证明**它能够帮助解决任何问题。这就导致人们始终探寻一个问题的答案：

**P=NP 成立吗？**

因为许多重要的实际问题都属于 NP 但不一定属于 P（即已知的最快确定性算法需要指数级别的时间）。如果能够证明它不属于 P，就可以放弃寻找高效率的算法；反之则存在发现某种高效算法的可能性。

### 多项式时间问题的相互归约

证明问题 A 是可以归约为问题 B 的：

1. 将 A 的实例归约为 B 的实例；
2. 解决 B 的实例；
3. 将 B 的实例的解归约为 A 的实例的解。

因此，如果一个问题 A 已知是难以解决的，且 A 在多项式时间内能够归约为问题 B，那么问题 B 必然也是难以解决的。

### NP-完全性

若 NP 中的所有问题都能在多项式时间内归纳为搜索问题 A，那么则称问题 A 是 **NP-完全的**。

NP-完全问题的意思是，我们不期望能够找到多项式时间的算法。

### Cook-Levin 定理

Cook-Levin 定理：布尔可满足性问题是 NP-完全的。

Cook-Levin 定理，加上围绕各种 NP-完全问题所进行的多项式时间内的归约，得到两种可能性：

* 或者 P=NP，即所有搜索问题都能够在多项式时间内得到解决；
* 或者 P 不等于 NP，即存在某些搜索问题无法在多项式时间内得到解决。

无论 P=NP 是否成立，目前的实际状态是所有 NP-完全问题的已知最佳算法在最坏情况下都需要指数级别的时间。

### 处理 NP-完全性

要证明 NP 中的一个问题是 NP-完全的，需要证明某个已知的 NP-完全问题能够在多项式时间内归约为它。如果成功，则说明找到一个高效算法是不可能的。

处理 NP-完全性的一些尝试：

1. 修改问题，寻找“近似”算法来给出接近但非最佳的解：欧几里得旅行销售员问题、梯度下降；
2. 给出一种能够有效解决实际应用中所出现的问题的实例算法；
3. 使用“回溯法”来避免检查所有可能的解，以期找到尽可能“高效”的指数级别算法。
